# =============================
#   General settings
# =============================
set -g prefix C-b
unbind C-b
bind C-b send-prefix

# Start window and pane index at 1
set -g base-index 1
setw -g pane-base-index 1

# Increase history buffer
set -g history-limit 10000

# Enable mouse support
set -g mouse on

# Enable focus events
set -g focus-events on

# Use vi-style keys in copy mode
setw -g mode-keys vi

# =============================
#   Status Bar
# =============================
set -g status-bg colour235
set -g status-fg colour136
set -g status-left " #[fg=green]#S "   # session name
set -g status-right "#[fg=yellow]%Y-%m-%d %H:%M"

# =============================
#   Window hotkeys
# =============================
bind-key -n F1 select-window -t 1
bind-key -n F2 select-window -t 2
bind-key -n F3 select-window -t 3
bind-key -n F4 select-window -t 4
bind-key -n F5 select-window -t 5
bind-key -n F6 select-window -t 6
bind-key -n F7 select-window -t 7
bind-key -n F8 select-window -t 8
bind-key -n F9 select-window -t 9
bind-key -n F10 select-window -t 10
bind-key -n F11 last-window       # toggle last window
bind-key -n F12 last-window       # toggle last window

# =============================
#   Panes
# =============================
bind | split-window -h            # horizontal split
bind - split-window -v            # vertical split
bind h select-pane -L             # move left
bind j select-pane -D             # move down
bind k select-pane -U             # move up
bind l select-pane -R             # move right
bind o select-pane -t :.+         # next pane
bind ";" last-pane                  # previous pane

# =============================
#   Copy Mode / Clipboard
# =============================
bind [ copy-mode                    # enter copy mode
bind ] paste-buffer                 # paste from tmux buffer

# Copy Mode â†’ system clipboard (Wayland, wl-copy)
bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "wl-copy"

# =============================
#   Plugins (TPM)
# =============================
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

# Continuum: auto-save every 15 minutes, auto-restore on tmux start
set -g @continuum-restore 'on'
set -g @plugin 'tmux-plugins/tmux-prefix-highlight'

run '~/.config/tmux/tpm/tpm'

# =============================
#   Additional
# =============================
# Reload tmux config
bind r source-file ~/.config/tmux/tmux.conf \; display "Config reloaded!"

